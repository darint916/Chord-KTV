{
  "openapi": "3.0.1",
  "info": {
    "title": "ChordKTV API",
    "version": "v1"
  },
  "paths": {
    "/api/handwriting/ocr": {
      "post": {
        "tags": [
          "Handwriting"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HandwritingCanvasRequestDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/HandwritingCanvasRequestDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/HandwritingCanvasRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/HandwritingCanvasResponseDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HandwritingCanvasResponseDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/HandwritingCanvasResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              },
              "application/json": {
                "schema": {
                  "type": "string"
                }
              },
              "text/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              },
              "application/json": {
                "schema": {
                  "type": "string"
                }
              },
              "text/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/quiz/romanization": {
      "get": {
        "tags": [
          "Quiz"
        ],
        "parameters": [
          {
            "name": "songId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "useCachedQuiz",
            "in": "query",
            "schema": {
              "type": "boolean",
              "default": false
            }
          },
          {
            "name": "difficulty",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 3
            }
          },
          {
            "name": "numQuestions",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 5
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/QuizResponseDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuizResponseDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuizResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/youtube/playlists/{playlistId}": {
      "get": {
        "tags": [
          "Song"
        ],
        "parameters": [
          {
            "name": "playlistId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "shuffle",
            "in": "query",
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/PlaylistDetailsDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaylistDetailsDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaylistDetailsDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/lyrics/lrc/match": {
      "get": {
        "tags": [
          "Song"
        ],
        "parameters": [
          {
            "name": "title",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "artist",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "albumName",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "duration",
            "in": "query",
            "schema": {
              "type": "number",
              "format": "float"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/lyrics/lrc/translation": {
      "post": {
        "tags": [
          "Song"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TranslationRequestDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/TranslationRequestDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/TranslationRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/songs/match": {
      "post": {
        "tags": [
          "Song"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FullSongRequestDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/FullSongRequestDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/FullSongRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/FullSongResponseDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FullSongResponseDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/FullSongResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          },
          "503": {
            "description": "Service Unavailable"
          }
        }
      }
    },
    "/api/songs/genius/match": {
      "get": {
        "tags": [
          "Song"
        ],
        "parameters": [
          {
            "name": "title",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "artist",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "lyrics",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "forceRefresh",
            "in": "query",
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/songs/genius/match/batch": {
      "post": {
        "tags": [
          "Song"
        ],
        "parameters": [
          {
            "name": "forceRefresh",
            "in": "query",
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {}
            },
            "text/json": {
              "schema": {}
            },
            "application/*+json": {
              "schema": {}
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/album/{albumName}": {
      "get": {
        "tags": [
          "Song"
        ],
        "parameters": [
          {
            "name": "albumName",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "artist",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/songs/genius/search": {
      "get": {
        "tags": [
          "Song"
        ],
        "parameters": [
          {
            "name": "searchQuery",
            "in": "query",
            "required": true,
            "schema": {
              "maxLength": 200,
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK – returns a list of Genius hits",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GeniusHitDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/songs/lrclib/search": {
      "get": {
        "tags": [
          "Song"
        ],
        "parameters": [
          {
            "name": "searchQuery",
            "in": "query",
            "required": true,
            "schema": {
              "maxLength": 200,
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/songs/{songId}/video/instrumental": {
      "put": {
        "tags": [
          "Song"
        ],
        "parameters": [
          {
            "name": "songId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              },
              "application/json": {
                "schema": {
                  "type": "string"
                }
              },
              "text/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/health": {
      "get": {
        "tags": [
          "Song"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/database/song": {
      "get": {
        "tags": [
          "Song"
        ],
        "parameters": [
          {
            "name": "title",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "artist",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "albumName",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Song"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Song"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Song"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Song"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/database/users/{email}": {
      "get": {
        "tags": [
          "Song"
        ],
        "parameters": [
          {
            "name": "email",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/auth/google": {
      "post": {
        "tags": [
          "User"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/user/activity/songs": {
      "get": {
        "tags": [
          "User Activity"
        ],
        "summary": "Get user's song activity",
        "responses": {
          "200": {
            "description": "List of user song activities",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserSongActivityDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/api/user/activity/playlist": {
      "post": {
        "tags": [
          "User Activity"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserPlaylistActivityDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UserPlaylistActivityDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UserPlaylistActivityDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/user/activity/playlists": {
      "get": {
        "tags": [
          "User Activity"
        ],
        "summary": "Get user's playlist activity",
        "responses": {
          "200": {
            "description": "List of user playlist activities",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserPlaylistActivityDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/api/user/activity/quiz": {
      "post": {
        "tags": [
          "User Activity"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserQuizResultDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UserQuizResultDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UserQuizResultDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/user/activity/quizzes": {
      "get": {
        "tags": [
          "User Activity"
        ],
        "summary": "Get user's quiz results",
        "parameters": [
          {
            "name": "language",
            "in": "query",
            "schema": {
              "$ref": "#/components/schemas/LanguageCode"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of user quiz results",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserQuizResultDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/api/user/activity/song": {
      "post": {
        "tags": [
          "User Activity"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserSongActivityDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UserSongActivityDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UserSongActivityDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/user/activity/handwriting": {
      "post": {
        "tags": [
          "User Activity"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserHandwritingResultDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UserHandwritingResultDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UserHandwritingResultDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "get": {
        "tags": [
          "User Activity"
        ],
        "summary": "Get user's handwriting results",
        "parameters": [
          {
            "name": "language",
            "in": "query",
            "schema": {
              "$ref": "#/components/schemas/LanguageCode"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of user handwriting results",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserHandwritingResultDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/api/user/activity/learned-words": {
      "get": {
        "tags": [
          "User Activity"
        ],
        "summary": "Get user's learned words",
        "parameters": [
          {
            "name": "language",
            "in": "query",
            "schema": {
              "$ref": "#/components/schemas/LanguageCode"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of learned words",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LearnedWordDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/api/user/activity/favorite/song": {
      "patch": {
        "tags": [
          "User Activity"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserSongActivityDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UserSongActivityDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UserSongActivityDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/user/activity/favorite/songs": {
      "get": {
        "tags": [
          "User Activity"
        ],
        "summary": "Get user's favorite songs",
        "responses": {
          "200": {
            "description": "List of user favorite songs",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserSongActivityDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/api/user/activity/favorite/playlist": {
      "patch": {
        "tags": [
          "User Activity"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserPlaylistActivityDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UserPlaylistActivityDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UserPlaylistActivityDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/user/activity/learned-word": {
      "post": {
        "tags": [
          "User Activity"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LearnedWordDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/LearnedWordDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/LearnedWordDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/user/activity/full": {
      "get": {
        "tags": [
          "User Activity"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/user/activity/favorite/playlists": {
      "get": {
        "tags": [
          "User Activity"
        ],
        "summary": "Get user's favorite playlists",
        "responses": {
          "200": {
            "description": "List of user favorite playlists",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserPlaylistActivityDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Album": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "isSingle": {
            "type": "boolean"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "artist": {
            "type": "string",
            "nullable": true
          },
          "songs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Song"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "FullSongRequestDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "nullable": true
          },
          "artist": {
            "type": "string",
            "nullable": true
          },
          "album": {
            "type": "string",
            "nullable": true
          },
          "duration": {
            "type": "string",
            "format": "date-span",
            "nullable": true
          },
          "lyrics": {
            "type": "string",
            "nullable": true
          },
          "youTubeId": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "FullSongResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "alternateTitles": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "artist": {
            "type": "string",
            "nullable": true
          },
          "featuredArtists": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "albumNames": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "releaseDate": {
            "type": "string",
            "format": "date",
            "nullable": true
          },
          "duration": {
            "type": "string",
            "format": "date-span",
            "nullable": true
          },
          "genre": {
            "type": "string",
            "nullable": true
          },
          "plainLyrics": {
            "type": "string",
            "nullable": true
          },
          "lrcLyrics": {
            "type": "string",
            "nullable": true
          },
          "lrcRomanizedLyrics": {
            "type": "string",
            "nullable": true
          },
          "lrcTranslatedLyrics": {
            "type": "string",
            "nullable": true
          },
          "youTubeId": {
            "type": "string",
            "nullable": true
          },
          "alternateYoutubeIds": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "geniusMetaData": {
            "$ref": "#/components/schemas/GeniusMetaDataDto"
          },
          "titleMatchScores": {
            "$ref": "#/components/schemas/MatchScores"
          },
          "artistMatchScores": {
            "$ref": "#/components/schemas/MatchScores"
          }
        },
        "additionalProperties": false
      },
      "GeniusMetaData": {
        "type": "object",
        "properties": {
          "geniusId": {
            "type": "integer",
            "format": "int32"
          },
          "headerImageUrl": {
            "type": "string",
            "nullable": true
          },
          "headerImageThumbnailUrl": {
            "type": "string",
            "nullable": true
          },
          "songImageUrl": {
            "type": "string",
            "nullable": true
          },
          "songImageThumbnailUrl": {
            "type": "string",
            "nullable": true
          },
          "language": {
            "$ref": "#/components/schemas/LanguageCode"
          }
        },
        "additionalProperties": false
      },
      "GeniusMetaDataDto": {
        "type": "object",
        "properties": {
          "geniusId": {
            "type": "integer",
            "format": "int32"
          },
          "headerImageUrl": {
            "type": "string",
            "nullable": true
          },
          "songImageUrl": {
            "type": "string",
            "nullable": true
          },
          "language": {
            "$ref": "#/components/schemas/LanguageCode"
          }
        },
        "additionalProperties": false
      },
      "HandwritingCanvasRequestDto": {
        "type": "object",
        "properties": {
          "image": {
            "type": "string",
            "nullable": true
          },
          "language": {
            "$ref": "#/components/schemas/LanguageCode"
          },
          "expectedMatch": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "HandwritingCanvasResponseDto": {
        "type": "object",
        "properties": {
          "recognizedText": {
            "type": "string",
            "nullable": true
          },
          "matchPercentage": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "UserSongActivityDto": {
        "type": "object",
        "description": "DTO for user's song activity. Define properties as per backend specification.",
        "additionalProperties": true
      },
      "UserPlaylistActivityDto": {
        "type": "object",
        "description": "DTO for user's playlist activity. Define properties as per backend specification.",
        "additionalProperties": true
      },
      "UserQuizResultDto": {
        "type": "object",
        "properties": {
          "quizId": {
            "type": "string",
            "format": "uuid"
          },
          "score": {
            "type": "number",
            "format": "float"
          },
          "language": {
            "$ref": "#/components/schemas/LanguageCode"
          },
          "dateCompleted": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "correctAnswers": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "additionalProperties": false
      },
      "UserHandwritingResultDto": {
        "type": "object",
        "properties": {
          "language": {
            "$ref": "#/components/schemas/LanguageCode"
          },
          "score": {
            "type": "number",
            "format": "float"
          },
          "wordTested": {
            "type": "string"
          },
          "dateCompleted": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "LearnedWordDto": {
        "type": "object",
        "properties": {
          "word": {
            "type": "string"
          },
          "language": {
            "$ref": "#/components/schemas/LanguageCode"
          },
          "dateLearned": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "UserDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "AuthResponseDto": {
        "type": "object",
        "properties": {
          "user": {
            "$ref": "#/components/schemas/UserDto"
          },
          "token": {
            "type": "string"
          }
        },
        "required": [
          "user",
          "token"
        ],
        "additionalProperties": false
      },
      "LanguageCode": {
        "enum": [
          "UNK",
          "AF",
          "AR",
          "BG",
          "BN",
          "CA",
          "CS",
          "DA",
          "DE",
          "EL",
          "EN",
          "ES",
          "ET",
          "FA",
          "FI",
          "FR",
          "GU",
          "HE",
          "HI",
          "HR",
          "HU",
          "ID",
          "IT",
          "JA",
          "KO",
          "LT",
          "LV",
          "MS",
          "NL",
          "NO",
          "PL",
          "PT",
          "RO",
          "RU",
          "SK",
          "SL",
          "SR",
          "SV",
          "TA",
          "TE",
          "TH",
          "TR",
          "UK",
          "VI",
          "ZH"
        ],
        "type": "string"
      },
      "MatchScores": {
        "type": "object",
        "properties": {
          "lrcExactMatch": {
            "type": "boolean"
          },
          "lrcRomanizedScore": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "lrcOriginalScore": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "lrcInputParamScore": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "PlaylistDetailsDto": {
        "type": "object",
        "properties": {
          "playlistTitle": {
            "type": "string",
            "nullable": true
          },
          "videos": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/VideoInfo"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ProblemDetails": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "nullable": true
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "detail": {
            "type": "string",
            "nullable": true
          },
          "instance": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": { }
      },
      "QuizQuestionDto": {
        "type": "object",
        "properties": {
          "questionNumber": {
            "type": "integer",
            "format": "int32"
          },
          "lyricPhrase": {
            "type": "string",
            "nullable": true
          },
          "options": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "correctOptionIndex": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "QuizResponseDto": {
        "type": "object",
        "properties": {
          "quizId": {
            "type": "string",
            "format": "uuid"
          },
          "songId": {
            "type": "string",
            "format": "uuid"
          },
          "difficulty": {
            "type": "integer",
            "format": "int32"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "questions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QuizQuestionDto"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Song": {
        "required": [
          "title"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "title": {
            "minLength": 1,
            "type": "string"
          },
          "alternateTitles": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "artist": {
            "type": "string",
            "nullable": true
          },
          "featuredArtists": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "albums": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Album"
            },
            "nullable": true
          },
          "releaseDate": {
            "type": "string",
            "format": "date",
            "nullable": true
          },
          "genre": {
            "type": "string",
            "nullable": true
          },
          "duration": {
            "type": "string",
            "format": "date-span",
            "nullable": true
          },
          "plainLyrics": {
            "type": "string",
            "nullable": true
          },
          "lrcLyrics": {
            "type": "string",
            "nullable": true
          },
          "lrcRomanizedLyrics": {
            "type": "string",
            "nullable": true
          },
          "lrcTranslatedLyrics": {
            "type": "string",
            "nullable": true
          },
          "lrcId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "romLrcId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "youtubeId": {
            "type": "string",
            "nullable": true
          },
          "youtubeInstrumentalId": {
            "type": "string",
            "nullable": true
          },
          "alternateYoutubeIds": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "geniusMetaData": {
            "$ref": "#/components/schemas/GeniusMetaData"
          }
        },
        "additionalProperties": false
      },
      "TranslationRequestDto": {
        "type": "object",
        "properties": {
          "originalLyrics": {
            "type": "string",
            "nullable": true
          },
          "languageCode": {
            "$ref": "#/components/schemas/LanguageCode"
          },
          "romanize": {
            "type": "boolean"
          },
          "translate": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "VideoInfo": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "nullable": true
          },
          "artist": {
            "type": "string",
            "nullable": true
          },
          "url": {
            "type": "string",
            "nullable": true
          },
          "duration": {
            "type": "string",
            "format": "date-span"
          }
        },
        "additionalProperties": false
      },
      "GeniusHitDto": {
        "type": "object",
        "properties": {
          "result": {
            "$ref": "#/components/schemas/GeniusResultDto"
          }
        },
        "required": ["result"],
        "additionalProperties": false
      },
      "GeniusResultDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "title": {
            "type": "string"
          },
          "header_image_url": {
            "type": "string"
          },
          "song_art_image_url": {
            "type": "string"
          },
          "primary_artist_names": {
            "type": "string"
          },
          "album": {
            "oneOf": [
              { "$ref": "#/components/schemas/GeniusAlbumDto" },
              { "type": "null" }
            ]
          }
        },
        "required": ["id", "title", "primary_artist_names"],
        "additionalProperties": false
      },
      "GeniusAlbumDto": {
        "type": "object",
        "properties": {
          "name": { "type": "string" }
        },
        "required": ["name"],
        "additionalProperties": false
      }
    },
    "securitySchemes": {
      "Bearer": {
        "type": "apiKey",
        "description": "JWT Authorization header using the Bearer scheme. Example: \"Bearer {token}\"",
        "name": "Authorization",
        "in": "header"
      }
    }
  },
  "security": [
    {
      "Bearer": [ ]
    }
  ]
}